onLoadGoogleApiCallback=function(){L.GeoSearch.Provider.Google.Geocoder=new google.maps.Geocoder;var e=document.getElementById("load_google_api");e&&document.body.removeChild(e)},L.GeoSearch.Provider.Google=L.Class.extend({_isReady:!1,_onReadyQueue:[],options:{},initialize:function(e){e=L.Util.setOptions(this,e),window.google&&window.google.maps?onLoadGoogleApiCallback():this.loadMapsApi()},loadMapsApi:function(){var e=this,o="https://maps.googleapis.com/maps/api/js?v=3&callback=onLoadGoogleApiCallback&sensor=false",t=document.createElement("script");t.id="load_google_api",t.type="text/javascript",t.src=o,document.body.appendChild(t);var a=setInterval(function(){"undefined"!=typeof google&&L.GeoSearch.Provider.Google.Geocoder instanceof google.maps.Geocoder&&(clearInterval(a),e._onReady())},25)},_onReady:function(){this._isReady=!0;for(var e;e=this._onReadyQueue.shift();)this.GetLocations(e.qry,e.callback)},GetLocations:function(e,o){if(!this._isReady)return void this._onReadyQueue.push({qry:e,callback:o});var t=L.GeoSearch.Provider.Google.Geocoder,a=L.Util.extend({address:e},this.options);t.geocode(a,function(e){e={results:e};for(var t,a,s,n=[],l=0;l<e.results.length;l++){if(e.results[l].geometry.bounds){var i=e.results[l].geometry.bounds.getNorthEast(),r=e.results[l].geometry.bounds.getSouthWest();t=new L.LatLng(i.lat(),i.lng()),a=new L.LatLng(r.lat(),r.lng()),s=new L.LatLngBounds([t,a])}else s=void 0;n.push(new L.GeoSearch.Result(e.results[l].geometry.location.lng(),e.results[l].geometry.location.lat(),e.results[l].formatted_address,s))}"function"==typeof o&&o(n)})}});